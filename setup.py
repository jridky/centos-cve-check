from os import path
from setuptools import setup



def read_requirements(filename):
    specifiers = []
    dep_links = []
    with open(filename, 'r') as f:
        for line in f:
            if line.startswith(('#', '-r')) or line.strip() == '':
                continue
            if line.startswith('git+'):
                dep_links.append(line.strip())
            else:
                specifiers.append(line.strip())
    return specifiers, dep_links


setup_py_path = path.dirname(path.realpath(__file__))
requirements, dep_links = read_requirements(path.join(setup_py_path, 'requirements.txt'))

setup(
    name='CVE-Checker',
    version='0.1',
    description='CVE Checker tool',
    long_description="Tool to provide decission about new build in RHEL.",
    author='Josef Ridky',
    author_email='jridky@redhat.com',
    install_requires=requirements,
    dependency_links=dep_links,
)

